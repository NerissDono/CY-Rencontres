<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accueil Utilisateur</title>
</head>
<body>
    <header>
        <h1>Bienvenue sur notre site de rencontre</h1>
    </header>

    <main>
        <section id="profil">
            <h2>Mon Profil</h2>
            <div id="publicSection">
                <h3>Informations Publiques</h3>
                <!-- Informations publiques -->
                <p>Pseudonyme: <span id="pseudo"></span></p>
                <p>Sexe: <span id="sexe"></span></p>
                <p>Date de naissance: <span id="naissance"></span></p>
                <p>Profession: <span id="profession"></span></p>
                <p>Lieu de résidence: <span id="residence"></span></p>
                <p>Situation: <span id="situation"></span></p>
                <p>Taille: <span id="taille"></span></p>
                <p>Poids: <span id="poids"></span></p>
                <p>Couleur yeux: <span id="yeux"></span></p>
                <p>Couleur cheveux: <span id="cheveux"></span></p>
                <p>Bio: <span id="bio"></span></p>
                <img id="logo" src="../../data\img/logo.png" alt="mehdi"/>
            </div>
            <div id="privateSection" style="display: none;">
                <h3>Informations Privées</h3>
                <!-- Informations privées (modifiables par l'utilisateur) -->
                <form id="privateForm">
                    <label for="nom">Véritable Nom:</label>
                    <input type="text" id="nom" name="nom"><br>
                    <label for="adresse">Adresse:</label>
                    <input type="text" id="adresse" name="adresse"><br>
                    <label for="password">Mot de Passe:</label>
                    <input type="password" id="password" name="password"><br>
                    <!-- Ajoutez d'autres champs pour les informations privées ici -->
                    <input type="submit" value="Enregistrer">
                </form>
            </div>
            <button onclick="togglePrivateSection()">Afficher les Informations Privées</button>
        </section>

        <section id="recherche">
            <h2>Recherche de Profils</h2>
            <form action="#" method="get">
                <label for="keywords">Mots-clés :</label>
                <input type="text" id="keywords" name="keywords"><br>
                <!-- Ajoutez d'autres critères de recherche ici -->
                <input type="submit" value="Rechercher">
            </form>
            <div id="resultats">
                <!-- Affichage des résultats de la recherche -->
                <!-- Profils abrégés : pseudo, âge, photo -->
            </div>
        </section>

        <section id="abonnements">
            <h2>Offres d'Abonnement</h2>
            <ul>
                <li>Abonnement Mensuel: 8€/mois</li>
                <li>Abonnement Trimestriel: 20€/trimestre</li>
                <li>Abonnement Annuel: 50€/an</li>
                <li>Version d'Essai: 1.50€ pour 24h d'accès complet</li>
            </ul>
            <button onclick="choisirAbonnement()">Choisir un Abonnement</button>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 CY Meet</p>
    </footer>

    <script>
        // Fonction pour charger le profil de l'utilisateur depuis le fichier texte
        function chargerProfil() {
            fetch('profils.txt')
            .then(response => response.text())
            .then(data => {
                const lignes = data.split('\n');
                const profilUtilisateur = lignes.find(ligne => ligne.includes('pseudo1')); // Remplacez 'pseudo1' par le pseudonyme de l'utilisateur
                if (profilUtilisateur) {
                    const infos = profilUtilisateur.split(',');
                    document.getElementById('pseudo').textContent = infos[0];
                    document.getElementById('sexe').textContent = infos[1];
                    document.getElementById('naissance').textContent = infos[2];
                    document.getElementById('profession').textContent = infos[3];
                    document.getElementById('residence').textContent = infos[4];
                    document.getElementById('situation').textContent = infos[5];
                    document.getElementById('taille').textContent = infos[6];
                    document.getElementById('poids').textContent = infos[7];
                    document.getElementById('yeux').textContent = infos[8];
                    document.getElementById('cheveux').textContent = infos[9];
                    document.getElementById('bio').textContent = infos[10];
                } else {
                    console.error('Profil utilisateur non trouvé.');
                }
            })
            .catch(error => console.error('Erreur lors du chargement du profil:', error));
        }

        // Appeler la fonction pour charger le profil lorsque la page est chargée
        window.onload = chargerProfil;

        function togglePrivateSection() {
            var privateSection = document.getElementById('privateSection');
            var button = document.querySelector('#profil button');
            
            if (privateSection.style.display === 'none') {
                privateSection.style.display = 'block';
                button.textContent = 'Masquer les Informations Privées';
            } else {
                privateSection.style.display = 'none';
                button.textContent = 'Afficher les Informations Privées';
            }
        }

        // Soumettre le formulaire des informations privées
        document.getElementById('privateForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Empêcher le rechargement de la page
            
            // Vous pouvez ajouter ici la logique pour enregistrer les modifications
            alert('Informations privées enregistrées !');
        });

        function choisirAbonnement() {
            // Redirection vers la page de choix d'abonnement
            window.location.href = "choisir_abonnement.html";
        }
    </script>
</body>
</html>